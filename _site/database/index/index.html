<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Siyu Tan - Index</title>
  <meta name="author" content="Siyu Tan" />
  <meta name="description" content="The blog of Siyu Tan" />
  <link rel="canonical" href="http://localhost:4000/database/index/" />

  <link href="//fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="alternate" type="application/atom+xml" title="Siyu Tan" href="http://localhost:4000/atom.xml" />

  <link rel="stylesheet" href="/assets/css/all.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>
<body>
  <div class="container">
    <div class="four columns sidebar">
      <nav>
  <h1>Hi.</h1>
  <a href="/">
    
    <img class="avatar" src="/logo.jpeg" id="logo" alt="Blog logo"/>
    
  </a>
  <h2>I'm <a href="/">Siyu Tan</a>.</h2>
  <div id="bio">
    <p>Oops! You found my secret website.. Have fun!!!</p>
    <p>
    <a href="/">Timeline 时间线</a><br>
    <a href="/categorical">Categories 分类</a>
    </p>
    <p></p>
    <p><a href="/about">About Me 关于我</a></p>
  </div>
  
  <div id="social">
    Follow me:
<div id="stalker">
  
  <a title="siyuboomboom on Github" href="https://github.com/siyuboomboom">
    <i class="fa fa-github-square"></i>
  </a>
  

  

  

  

  

  

  
  <a title="Siyu Tan on Facebook" href="https://facebook.com/sherry.tan.92351">
    <i class="fa fa-facebook-square"></i>
  </a>
  

  

  
  <a title="Siyu Tan on LinkedIn" href="https://www.linkedin.com/in/siyutan">
    <i class="fa fa-linkedin-square"></i>
  </a>
  

  

  
</div>

  </div>
</nav>

    </div>

    <div class="eleven columns content">
      <p class="meta">
  December 23, 2018 
  <a href="/">
    <i class="home fa fa-home"></i>
  </a>
</p>

<h1 class="title">Index</h1>

<!-- 
<div class="post-categories">
  
  Categories: 
  
  <a href="/categories/#Database">Database</a>
  
  
</div>
-->

<br>
<div id="post">
  <h2 id="1-composite-index">1. Composite index</h2>
<p>MySQL can only use one index in one query. If multiple columns appear in the search condition, MySQL will pick the most strict index, that is, the one that will retrive the least records. <br />
We can add EXPLAIN before SELECT to see which index the db choose.<br />
<strong>Leftmost prefix rule</strong>: a composite index on columns (a, b, c) is like three indexes on (a, b, c), (a, b) and (a). If we search based on (a, c), only the index on a in the composite will be used. For OR clause between conditions on a, b, c, composite index will not be used.</p>

<h2 id="2-range-query">2. Range query</h2>
<p>For composite index (A, B):</p>
<ol>
  <li>where A &gt; xx;   useful</li>
  <li>where A = xx and B &gt; yy;   useful</li>
  <li>where A &gt; xx and B = yy;   partially useful on A</li>
  <li>where A &gt; xx and B &gt; yy;   partially useful on A</li>
</ol>

<p>When the query looks like 4 where two columns are all range search, it’s better to only add index on A.</p>
<h2 id="3-when-to-use-index">3. When to use index?</h2>
<ol>
  <li>Indexes speed up where, order by, group by, so add index on columns that will frequently appear in these clauses.</li>
</ol>

<h2 id="4-when-not-to-use-index">4. When not to use index?</h2>
<ol>
  <li>Indexes slow down inserts and updates, so you want to use them carefully on columns that are FREQUENTLY updated.</li>
  <li>Tables with only few records, as database will search index table first and then data table.</li>
  <li>Columns with lots of common data which distribute evenly</li>
</ol>

<h2 id="5-how-to-make-use-of-index">5. How to make use of index?</h2>


</div>

<div id="related">
  <h3>Related Posts</h3>
  <ul class="posts">
    
    <li>
      <span>07 Apr 2019 &raquo;</span> <a href="/information%20retrieval%20and%20machine%20learning/neural-network/">Build a Handwriting Recognition System using Neural Netowrk</a>
    </li>
    
    <li>
      <span>07 Apr 2019 &raquo;</span> <a href="/personal/cmu-courses/">鬼知道我在CMU经历了什么</a>
    </li>
    
    <li>
      <span>22 Feb 2019 &raquo;</span> <a href="/java/java-memory-leak/">Memory Leak in Java</a>
    </li>
    
  </ul>
</div>



      <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
*/

var disqus_config = function () {
    this.page.url = window.location.href;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = window.location.href; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://siyutan-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <div class="footer">
        <div class="disclaimer">
  
  <p>
    The postings on this site are my own and don't necessarily represent my 
    employer’s positions, strategies or opinions.
  </p>
  

  <p>
    © Siyu Tan, 2019 &mdash; built with <a href="http://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/swanson/lagom">Lagom theme</a>
  </p>
</div>
      </div>
    </div>
  </div>


</body>
</html>
