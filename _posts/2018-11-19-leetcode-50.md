---
layout: post
title: Leetcode 50 - Pow(x, n)
categories:
- blog
---

### Problem:
Implement pow(x, n), which calculates x raised to the power n (x ^ n).  
### Link:
<https://leetcode.com/problems/powx-n/description/>

---
Recursive method is relatively easy. Lets discuss about the iterative one.  
Let's consider the exponent n in binary representation. Say, n = 9

`9 = (1001)2 = 2 ^ 3 + 2 ^ 0`

Therefore, pow(x, 9) equals  
`x ^ 9 = x ^ (2 ^ 3 + 2 ^ 0) = (x ^ (2 ^ 3)) * (x ^ (2 ^ 0))`    

So if **ith** bit is 1, we multiply the ans by `x ^ (2 ^ i)`. (the least significant is 0th)   
For `i = 0, 1, 2, ...`, we multiply the ans by `x ^ 1, x ^ 2, x ^ 4, x ^ 8, ...`

{% highlight java %}
class Solution {
    public double myPow(double x, int n) {
        double ans = 1;
        if (n < 0) {
            x = 1 / x;
        }
        long absN = Math.abs((long)n);
        
        while (absN > 0) {
            if ((absN & 1) == 1) {
                ans *= x;
            }
            
            absN >>= 1;
            x *= x;
        }
        
        return ans;
    }
}
{% endhighlight %}
