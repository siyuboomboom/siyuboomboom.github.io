---
layout: post
title: Leetcode 4 - Median of Two Sorted Arrays
categories:
- blog
---

### Problem:
There are two sorted arrays nums1 and nums2 of size m and n respectively.
Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).
### Link:
<https://leetcode.com/problems/median-of-two-sorted-arrays/description/>

---


{% highlight java %}
class Solution {
    public double findMedianSortedArrays(int[] nums1, int[] nums2) {
        int n = nums1.length + nums2.length;
        
        // odd number
        if ((n & 1) == 1) {
            return findKth(nums1, 0, nums2, 0, n / 2 + 1);
        }
        
        // even number
        return (findKth(nums1, 0, nums2, 0, n / 2) + findKth(nums1, 0, nums2, 0, n / 2 + 1)) / 2.0;
    }
    
    // find the kth smallest number in the two arrays
    private int findKth(int[] nums1, int start1, int[] nums2, int start2, int k) {
        if (start1 >= nums1.length) {
            return nums2[start2 + k - 1];
        }
        
        if (start2 >= nums2.length) {
            return nums1[start1 + k - 1];
        }
        
        if (k == 1) {
            return Math.min(nums1[start1], nums2[start2]);
        }
        
        int half1 = Integer.MAX_VALUE;
        int half2 = Integer.MAX_VALUE;
        
        if (start1 + k / 2 - 1 < nums1.length) {
            half1 = nums1[start1 + k / 2 - 1];
        }
        
        if (start2 + k / 2 - 1 < nums2.length) {
            half2 = nums2[start2 + k / 2 - 1];
        }
        
        if (half1 > half2) {
            return findKth(nums1, start1, nums2, start2 + k / 2, k - k / 2);
        } 
        
        return findKth(nums1, start1 + k / 2, nums2, start2, k - k / 2);
    }
}

{% endhighlight %}
